---
import Layout from "@layouts/Layout.astro";
import { posts } from "@data/posts";
import { formatDate } from "../utils";

const title = "Blog";
---

<Layout title={title}>
  <div class="container w-full max-w-5xl px-5 md:mx-auto">
    <h1 class="py-12 text-4xl font-bold">{title}</h1>

    <div class="grid md:grid-cols-2">
      {
        posts.map((post) => (
          <div class="group relative overflow-hidden text-neutral-content">
            <div class="absolute inset-0 z-10 bg-gradient-to-t from-neutral transition duration-500" />
            <img
              class="z-0 h-64 w-full object-cover transition duration-500 group-hover:scale-105"
              src={post.featuredImage.sourceUrl}
            />
            <div class="absolute inset-x-4 bottom-4 z-20 ">
              <a href={`/blog/${post.slug}`} class="text-xl font-bold">
                {post.title}
              </a>
              <div class="hidden text-sm">{formatDate(post.date, "short")}</div>
              <div class="hidden max-w-md" set:html={post.excerpt} />
            </div>
          </div>
        ))
      }
    </div>
  </div>
</Layout>
