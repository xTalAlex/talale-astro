---
import Layout from "@layouts/Layout.astro";
import { posts } from "@data/posts";
import { formatDate } from "../utils";

const title = "Blog";
---

<Layout
  title={title}
>
  <div class="px-5 md:mx-auto container w-full max-w-5xl">
    <h1 class="py-12 text-4xl font-bold">{title}</h1>  

    <div class="grid md:grid-cols-2">
        {
            posts.map( post => 
                <div class="relative text-neutral-content overflow-hidden group">
                    <div class="z-10 absolute inset-0 group-hover:opacity-0 bg-neutral bg-opacity-80 transition duration-500"></div>
                    <img class="z-0 h-64 w-full object-cover group-hover:scale-105 transition duration-500" src={post.featuredImage.sourceUrl} />
                    <div class="z-20 absolute inset-x-4 bottom-4 ">
                        <a href={`/blog/${ post.slug }`} class="font-bold text-xl">
                            { post.title }
                        </a>
                        <div class="text-sm hidden">{formatDate(post.date, 'short')}</div>
                        <div class="max-w-md hidden" set:html={ post.excerpt }></div>
                    </div>
                </div>
            )
        }
    </div>
  </div>
</Layout>