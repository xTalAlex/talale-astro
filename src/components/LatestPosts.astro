---
import { posts } from "@data/posts";
import { formatDate } from "../utils";

const { class: className } = Astro.props;
---
<div class:list={['relative', className]}>
    <div class="relative text-3xl uppercase text-left pt-20 -mt-20 mb-12" id="latest-posts">Dal Blog</div>
    <div class="absolute inset-0 bg-gradient-to-tl blur-3xl from-primary to-secondary opacity-10"></div>
    <ul>
        {
            posts.slice(0,4).map( post => 
                <li class="mt-6 flex">
                    <div class="badge badge-secondary flex-none md:p-4 badge-sm">{ formatDate(post.date, 'short') }</div>
                    <div class="ml-5 flex flex-col items-start text-left">
                        <a href={`/blog/${ post.slug }`}><div class="link text-lg text-primary" set:html={ post.title }></div></a>
                        <div class="max-w-md" set:html={ post.excerpt }></div>
                    </div>
                </li>
            )
        }
    </ul>
</div>