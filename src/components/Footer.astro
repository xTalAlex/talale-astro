---
import Config from "../site_config.json";
import IubendaPolicy from "./IubendaPolicy.astro";
import IubendaLogo from "@assets/images/iubenda-logo.png";
import AmazonPrimeLogo from "@assets/images/amazon-prime-logo.png";

import mascotte from "@assets/images/mascotte.svg";
import { Image } from "astro:assets";
import Biography from "@components/Biography.astro";
import LatestPosts from "@components/LatestPosts.astro";
import ScreenSize from "@components/ScreenSize.astro";

const { COOKIEBOT_ID, IUBENDA_POLICY_ID } = import.meta.env;
---

<footer class="footer footer-center bg-base-200 pb-24 pt-10">
  <div class="grid items-start gap-20 px-10 py-20 lg:grid-cols-3">
    <div class="mb-20 lg:col-span-2 lg:mb-0">
      <LatestPosts />
      <!-- <blockquote class="relative p-4 mt-20 border-l-4 border-neutral-content bg-base-200 max-w-md">
                <div class="absolute inset-0 bg-gradient-to-tl blur-3xl from-primary to-secondary opacity-20"></div>
                <p class="italic font-medium leading-relaxed text-base opacity-75">
                    "Learning coding is like playing cards — you learn the rules, then you play, then you go back and learn the rules again, then you play again."
                    <br/><div class="text-right">- Mozilla.org</div>
                </p>
            </blockquote> -->
    </div>
    <Biography />
  </div>
  <div class="pb-12"><ScreenSize /></div>
  <div class="collapse collapse-plus max-w-2xl cursor-pointer">
    <input type="checkbox" />
    <div class="collapse-title text-left font-semibold">Referral</div>
    <div
      class="collapse-content flex flex-col items-center justify-center space-y-2 sm:flex-row sm:space-x-2 sm:space-y-0"
    >
      <a
        href="https://www.digitalocean.com/?refcode=4c50de6f8f9f&utm_campaign=Referral_Invite&utm_medium=Referral_Program&utm_source=badge"
        target="_blank"
      >
        <img
          class="h-16 w-52 rounded bg-white object-contain"
          src="https://web-platforms.sfo2.digitaloceanspaces.com/WWW/Badge%202.svg"
          alt="DigitalOcean Referral Badge"
          height="64"
          width="208"
        />
      </a>
      <a href="http://iubenda.refr.cc/talale93" target="_blank">
        <Image
          class="h-16 w-52 rounded bg-white object-contain"
          src={IubendaLogo}
          alt="Iubenda Referral Badge"
        />
      </a>
      <a
        href="https://www.amazon.it/provaprime?tag=gz-blog-21&ascsubtag=0-f-n-av_talale"
        target="_blank"
      >
        <Image
          class="h-16 w-52 rounded bg-white object-contain"
          src={AmazonPrimeLogo}
          alt="Prova Amazon Prime"
        />
      </a>
    </div>
  </div>
  <!-- <div id="donate-button-container">
        <div id="donate-button"></div>
        <script src="https://www.paypalobjects.com/donate/sdk/donate-sdk.js" charset="UTF-8"></script>
        <script>
            PayPal.Donation.Button({
            env:'production',
            hosted_button_id:'QUKYU3LA5B3DU',
            image: {
            src:'https://www.paypalobjects.com/it_IT/IT/i/btn/btn_donate_LG.gif',
            alt:'Fai una donazione con il pulsante PayPal',
            title:'PayPal - The safer, easier way to pay online!',
            }
            }).render('#donate-button');
        </script>
    </div> -->
  <div class="grid grid-flow-col gap-4">
    {
      !COOKIEBOT_ID && !IUBENDA_POLICY_ID && (
        <a href="/privacy-policy.html" target="_blank">
          Privacy Policy Custom
        </a>
      )
    }
    {
      COOKIEBOT_ID && (
        <>
          <a href="/cookie-policy.html" target="_blank">
            Cookie Policy
          </a>
          <a href="javascript: Cookiebot.renew()">Impostazioni Cookie</a>
        </>
      )
    }
    {IUBENDA_POLICY_ID && <IubendaPolicy policyId={IUBENDA_POLICY_ID} />}
    <a href="/rss.xml"
      ><Image
        height="24"
        width="24"
        src="/images/icons/rss.svg"
        class="h-6"
        alt="rss"
      /></a
    >
  </div>
  <div class="grid-flow-col items-center">
    <div class="-mt-1 mr-1 inline-block h-6 w-8 overflow-hidden">
      <Image
        class="h-14 w-8 object-cover object-left"
        src={mascotte}
        alt={`${Config.title} | ${Config.subtitle}`}
      />
    </div>
    <div class="flex flex-col space-x-2 font-bold md:flex-row">
      <div class="">{Config.title}</div><span class="hidden md:inline">
        |
      </span><div class="">{Config.subtitle}</div><span
        class="hidden md:inline"
      >
        |
      </span><div class="">P.IVA {Config.piva}</div>
    </div>
    <!-- <p>Copyright © {curYear} - tutti i diritti riservati</p> -->
  </div>
</footer>
