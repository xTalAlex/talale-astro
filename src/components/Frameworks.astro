---
import FrameworkCard from "@components/FrameworkCard.astro";
import Config from "../site_config.json";

---

<div class="embla relative">
    <div class="embla__viewport" id="frameworks-carousel">
        <div class="embla__container">
        {
            Config.frameworks.map((framework) => (
                <div class="embla__slide relative min-w-[50%] sm:min-w-[33%] md:min-w-[20%]">
                    <FrameworkCard
                        name={framework.name}
                        logo={framework.logo}
                        url={new URL(framework.url)}
                    />
                </div>
            ))
        }
        </div>
    </div>
</div>

<script>
    import EmblaCarousel from "embla-carousel";
    import Autoplay from 'embla-carousel-autoplay';

    const emblaCarousel = EmblaCarousel(document.getElementById("frameworks-carousel"), {
        dragFree: true,
        loop: true,
        duration: 5000,
    },[
        Autoplay({delay:0}, document.getElementById("frameworks-carousel").parentElement)
    ]);
</script>