---
import FrameworkCard from "@components/FrameworkCard.astro";
import Config from "../site_config.json";

---

<div class="embla relative" id="frameworks-carousel">
    <div
        class="embla__viewport"
    >
        <div class="embla__container">
        {
            Config.frameworks.map((framework) => (
                <div class="embla__slide relative min-w-[50%] sm:min-w-[33%] md:min-w-[20%]">
                    <FrameworkCard
                        name={framework.name}
                        logo={framework.logo}
                        url={new URL(framework.url)}
                    />
                </div>
            ))
        }
        </div>
    </div>
</div>

<script>
    import EmblaCarousel from "embla-carousel";
    import Autoplay from 'embla-carousel-autoplay';

    const thumbCarouselWrap = document.getElementById("frameworks-carousel");
    const thumbCarouselView = thumbCarouselWrap.querySelector(".embla__viewport");
    const autoplay = Autoplay({delay:1000}, thumbCarouselView.parentElement);
    const thumbCarousel = EmblaCarousel(thumbCarouselView, {
        dragFree: true,
        loop: true,
        speed: 0.05,
    },[autoplay]);
</script>